<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extract a signal in between tracked boundaries in a wavelet scalogram — dynamic_extraction • WaverideR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extract a signal in between tracked boundaries in a wavelet scalogram — dynamic_extraction"><meta property="og:description" content="Interactively select points in a wavelet scalogram to trace the upper and
lower period of an cycle.  The dynamic_extraction function plots a wavelet scalogram in which points peaks can selected
allowing one to track the lower and upper period of a cycle. First track the upper or lower period of the to
be extracted cycle and then track the other boundary. Tracking points can be selected in the Interactive interface and will be shown as white dots
connected by a black line. When one wants to deselect a point the white dots can be re-clicked/re-selected and will turn red which
indicates that the previously selected point is deselected. Deselecting points can be quite tricky.
After tracking the lower and upper boundaries of the cycle the dynamic_extraction function
will extract the signal in between the boundaries. the output can then used as input for the
minimal_tuning function to create an age model."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">WaverideR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/stratigraphy/WaverideR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract a signal in between tracked boundaries in a wavelet scalogram</h1>
    <small class="dont-index">Source: <a href="https://github.com/stratigraphy/WaverideR/blob/HEAD/R/dynamic_extraction.R" class="external-link"><code>R/dynamic_extraction.R</code></a></small>
    <div class="hidden name"><code>dynamic_extraction.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Interactively select points in a wavelet scalogram to trace the upper and
lower period of an cycle.  The <code>dynamic_extraction</code> function plots a wavelet scalogram in which points peaks can selected
allowing one to track the lower and upper period of a cycle. First track the upper or lower period of the to
be extracted cycle and then track the other boundary. Tracking points can be selected in the Interactive interface and will be shown as white dots
connected by a black line. When one wants to deselect a point the white dots can be re-clicked/re-selected and will turn red which
indicates that the previously selected point is deselected. Deselecting points can be quite tricky.
After tracking the lower and upper boundaries of the cycle the <code>dynamic_extraction</code> function
will extract the signal in between the boundaries. the output can then used as input for the
<code><a href="minimal_tuning.html">minimal_tuning</a></code> function to create an age model.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dynamic_extraction</span><span class="op">(</span></span>
<span>  wavelet <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n.levels <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  add_peaks <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  periodlab <span class="op">=</span> <span class="st">"Period (metres)"</span>,</span>
<span>  x_lab <span class="op">=</span> <span class="st">"depth (metres)"</span>,</span>
<span>  palette_name <span class="op">=</span> <span class="st">"rainbow"</span>,</span>
<span>  color_brewer <span class="op">=</span> <span class="st">"grDevices"</span>,</span>
<span>  plot_horizontal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  smooth <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_mean <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-wavelet">wavelet<a class="anchor" aria-label="anchor" href="#arg-wavelet"></a></dt>
<dd><p>Wavelet object created using the <code><a href="analyze_wavelet.html">analyze_wavelet</a></code> function.</p></dd>


<dt id="arg-n-levels">n.levels<a class="anchor" aria-label="anchor" href="#arg-n-levels"></a></dt>
<dd><p>Number of color levels <code>Default=100</code>.</p></dd>


<dt id="arg-add-peaks">add_peaks<a class="anchor" aria-label="anchor" href="#arg-add-peaks"></a></dt>
<dd><p>Setting which indicates whether spectral peaks should be
added to the tracking plot  <code>Default=FALSE</code>.</p></dd>


<dt id="arg-periodlab">periodlab<a class="anchor" aria-label="anchor" href="#arg-periodlab"></a></dt>
<dd><p>label for the y-axis <code>Default="Period (metres)"</code>.</p></dd>


<dt id="arg-x-lab">x_lab<a class="anchor" aria-label="anchor" href="#arg-x-lab"></a></dt>
<dd><p>label for the x-axis <code>Default="depth (metres)"</code>.</p></dd>


<dt id="arg-palette-name">palette_name<a class="anchor" aria-label="anchor" href="#arg-palette-name"></a></dt>
<dd><p>Name of the color palette which is used for plotting.
The color palettes than can be chosen depends on which the R package is specified in
the color_brewer parameter. The included R packages from which palettes can be chosen
from are; the 'RColorBrewer', 'grDevices', 'ColorRamps' and 'Viridis' R packages.
There are many options to choose from so please
read the documentation of these packages <code>Default=rainbow</code>.
The R package 'viridis' has the color palette options: “magma”, “plasma”,
“inferno”, “viridis”, “mako”, and “rocket”  and “turbo”
To see the color palette options of the The R pacakge 'RColorBrewer' run
the RColorBrewer::brewer.pal.info() function
The R package 'colorRamps' has the color palette options:"blue2green",
"blue2green2red", "blue2red",    "blue2yellow", "colorRamps",    "cyan2yellow",
"green2red", "magenta2green", "matlab.like", "matlab.like2" and    "ygobb"
The R package 'grDevices' has the built in  palette options:"rainbow",
"heat.colors", "terrain.colors","topo.colors" and "cm.colors"
To see even more color palette options of the The R pacakge 'grDevices' run
the grDevices::hcl.pals() function</p></dd>


<dt id="arg-color-brewer">color_brewer<a class="anchor" aria-label="anchor" href="#arg-color-brewer"></a></dt>
<dd><p>Name of the R package from which the color palette is chosen from.
The included R packages from which palettes can be chosen
are; the RColorBrewer, grDevices, ColorRamps and Viridis R packages.
There are many options to choose from so please
read the documentation of these packages. "<code>Default=grDevices</code></p></dd>


<dt id="arg-plot-horizontal">plot_horizontal<a class="anchor" aria-label="anchor" href="#arg-plot-horizontal"></a></dt>
<dd><p>plot the wavelet horizontal or vertical eg y axis is depth or y axis power  <code>Default=TRUE</code></p></dd>


<dt id="arg-smooth">smooth<a class="anchor" aria-label="anchor" href="#arg-smooth"></a></dt>
<dd><p>smooth the tracked period using the "loess_auto" function</p></dd>


<dt id="arg-add-mean">add_mean<a class="anchor" aria-label="anchor" href="#arg-add-mean"></a></dt>
<dd><p>add the mean to the extracted signal</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Results of the tracking of a cycle in the wavelet spectra is a matrix with 3 columns.
The first column is depth/time
The second column is the extracted tracked cycle
The third column is upper tracked period
The fourth column is lower tracked period</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Routines for astrochronologic testing, astronomical time scale construction, and
time series analysis &lt;doi:10.1016/j.earscirev.2018.11.015&gt;</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>The function is based/inspired on the <a href="https://rdrr.io/pkg/astrochron/man/traceFreq.html" class="external-link">traceFreq</a>
function of the 'astrochron' R package</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">#Track the 405kyr upper and lower periods of the eccentricity cycle in the</span></span></span>
<span class="r-in"><span><span class="co">#magnetic susceptibility record of the Sullivan core of Pas et al., (2018)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mag_wt</span> <span class="op">&lt;-</span> <span class="fu"><a href="analyze_wavelet.html">analyze_wavelet</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> data <span class="op">=</span> <span class="va">mag</span>,</span></span>
<span class="r-in"><span> dj <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span> lowerPeriod <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span> upperPeriod <span class="op">=</span> <span class="fl">254</span>,</span></span>
<span class="r-in"><span> verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span> omega_nr <span class="op">=</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mag_ext</span> <span class="op">&lt;-</span> <span class="fu">dynamic_extraction</span><span class="op">(</span></span></span>
<span class="r-in"><span> wavelet <span class="op">=</span> <span class="va">mag_wt</span>,</span></span>
<span class="r-in"><span> n.levels <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span> add_peaks <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span> periodlab <span class="op">=</span> <span class="st">"Period (metres)"</span>,</span></span>
<span class="r-in"><span> x_lab <span class="op">=</span> <span class="st">"depth (metres)"</span>,</span></span>
<span class="r-in"><span> palette_name <span class="op">=</span> <span class="st">"rainbow"</span>,</span></span>
<span class="r-in"><span> color_brewer <span class="op">=</span> <span class="st">"grDevices"</span>,</span></span>
<span class="r-in"><span> plot_horizontal <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span> smooth <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span> add_mean <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michiel Arts.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

